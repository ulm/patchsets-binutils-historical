diff -Naurp binutils-2.14.90.0.8.orig/gas/testsuite/gas/i386/prescott.d binutils-2.14.90.0.8/gas/testsuite/gas/i386/prescott.d
--- binutils-2.14.90.0.8.orig/gas/testsuite/gas/i386/prescott.d	2004-01-14 16:07:47.000000000 -0500
+++ binutils-2.14.90.0.8/gas/testsuite/gas/i386/prescott.d	2004-01-14 23:54:42.794836800 -0500
@@ -35,3 +35,40 @@ Disassembly of section .text:
   72:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
   75:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
 	...
+#objdump: -dw
+#name: i386 prescott
+
+.*: +file format .*
+
+Disassembly of section .text:
+
+0+000 <foo>:
+   0:	66 0f d0 01 [ 	]*addsubpd \(%ecx\),%xmm0
+   4:	66 0f d0 ca [ 	]*addsubpd %xmm2,%xmm1
+   8:	f2 0f d0 13 [ 	]*addsubps \(%ebx\),%xmm2
+   c:	f2 0f d0 dc [ 	]*addsubps %xmm4,%xmm3
+  10:	df 88 90 90 90 90 [ 	]*fisttp 0x90909090\(%eax\)
+  16:	db 88 90 90 90 90 [ 	]*fisttpl 0x90909090\(%eax\)
+  1c:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
+  22:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
+  28:	dd 88 90 90 90 90 [ 	]*fisttpll 0x90909090\(%eax\)
+  2e:	66 0f 7c 65 00 [ 	]*haddpd 0x0\(%ebp\),%xmm4
+  33:	66 0f 7c ee [ 	]*haddpd %xmm6,%xmm5
+  37:	f2 0f 7c 37 [ 	]*haddps \(%edi\),%xmm6
+  3b:	f2 0f 7c f8 [ 	]*haddps %xmm0,%xmm7
+  3f:	66 0f 7d c1 [ 	]*hsubpd %xmm1,%xmm0
+  43:	66 0f 7d 0a [ 	]*hsubpd \(%edx\),%xmm1
+  47:	f2 0f 7d d2 [ 	]*hsubps %xmm2,%xmm2
+  4b:	f2 0f 7d 1c 24 [ 	]*hsubps \(%esp,1\),%xmm3
+  50:	f2 0f f0 2e [ 	]*lddqu  \(%esi\),%xmm5
+  54:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx 
+  57:	0f 01 c8 [ 	]*monitor %eax,%ecx,%edx 
+  5a:	f2 0f 12 f7 [ 	]*movddup %xmm7,%xmm6
+  5e:	f2 0f 12 38 [ 	]*movddup \(%eax\),%xmm7
+  62:	f3 0f 16 01 [ 	]*movshdup \(%ecx\),%xmm0
+  66:	f3 0f 16 ca [ 	]*movshdup %xmm2,%xmm1
+  6a:	f3 0f 12 13 [ 	]*movsldup \(%ebx\),%xmm2
+  6e:	f3 0f 12 dc [ 	]*movsldup %xmm4,%xmm3
+  72:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
+  75:	0f 01 c9 [ 	]*mwait   %eax,%ecx 
+	...
diff -Naurp binutils-2.14.90.0.8.orig/gas/testsuite/gas/i386/prescott.s binutils-2.14.90.0.8/gas/testsuite/gas/i386/prescott.s
--- binutils-2.14.90.0.8.orig/gas/testsuite/gas/i386/prescott.s	2004-01-14 16:07:47.000000000 -0500
+++ binutils-2.14.90.0.8/gas/testsuite/gas/i386/prescott.s	2004-01-14 23:54:42.796836496 -0500
@@ -32,3 +32,37 @@ foo:
 	mwait		%eax,%ecx
 
 	.p2align	4,0
+#Prescott New Instructions
+
+	.text
+foo:
+	addsubpd	(%ecx),%xmm0
+	addsubpd	%xmm2,%xmm1
+	addsubps	(%ebx),%xmm2
+	addsubps	%xmm4,%xmm3
+	fisttp		0x90909090(%eax)
+	fisttpl		0x90909090(%eax)
+	fisttpd		0x90909090(%eax)
+	fisttpq		0x90909090(%eax)
+	fisttpll	0x90909090(%eax)
+	haddpd		0x0(%ebp),%xmm4
+	haddpd		%xmm6,%xmm5
+	haddps		(%edi),%xmm6
+	haddps		%xmm0,%xmm7
+	hsubpd		%xmm1,%xmm0
+	hsubpd		(%edx),%xmm1
+	hsubps		%xmm2,%xmm2
+	hsubps		(%esp,1),%xmm3
+	lddqu		(%esi),%xmm5
+	monitor
+	monitor		%eax,%ecx,%edx
+	movddup		%xmm7,%xmm6
+	movddup		(%eax),%xmm7
+	movshdup	(%ecx),%xmm0
+	movshdup	%xmm2,%xmm1
+	movsldup	(%ebx),%xmm2
+	movsldup	%xmm4,%xmm3
+	mwait
+	mwait		%eax,%ecx
+
+	.p2align	4,0
diff -Naurp binutils-2.14.90.0.8.orig/opcodes/i386-dis.c binutils-2.14.90.0.8/opcodes/i386-dis.c
--- binutils-2.14.90.0.8.orig/opcodes/i386-dis.c	2004-01-14 16:07:55.000000000 -0500
+++ binutils-2.14.90.0.8/opcodes/i386-dis.c	2004-01-14 23:54:43.810682368 -0500
@@ -1685,6 +1685,48 @@ static const struct dis386 prefix_user_t
     { "(bad)", XM, EX, XX },
     { "lddqu", XM, M, XX },
   },
+  /* PREGRP27 */
+  {
+    { "(bad)", MX, EX, XX },
+    { "(bad)", XM, EX, XX },
+    { "addsubpd", XM, EX, XX },
+    { "addsubps", XM, EX, XX },
+  },
+  /* PREGRP28 */
+  {
+    { "(bad)", MX, EX, XX },
+    { "(bad)", XM, EX, XX },
+    { "haddpd", XM, EX, XX },
+    { "haddps", XM, EX, XX },
+  },
+  /* PREGRP29 */
+  {
+    { "(bad)", MX, EX, XX },
+    { "(bad)", XM, EX, XX },
+    { "hsubpd", XM, EX, XX },
+    { "hsubps", XM, EX, XX },
+  },
+  /* PREGRP30 */
+  {
+    { "movlpX", XM, EX, SIMD_Fixup, 'h' }, /* really only 2 operands */
+    { "movsldup", XM, EX, XX },
+    { "movlpd", XM, EX, XX },
+    { "movddup", XM, EX, XX },
+  },
+  /* PREGRP31 */
+  {
+    { "movhpX", XM, EX, SIMD_Fixup, 'l' },
+    { "movshdup", XM, EX, XX },
+    { "movhpd", XM, EX, XX },
+    { "(bad)", XM, EX, XX },
+  },
+  /* PREGRP32 */
+  {
+    { "(bad)", XM, EX, XX },
+    { "(bad)", XM, EX, XX },
+    { "(bad)", XM, EX, XX },
+    { "lddqu", XM, M, XX },
+  },
 };
 
 static const struct dis386 x86_64_table[][2] = {
@@ -4129,6 +4171,33 @@ PNI_Fixup (int extrachar ATTRIBUTE_UNUSE
 }
 
 static void
+PNI_Fixup (extrachar, sizeflag)
+     int extrachar ATTRIBUTE_UNUSED;
+     int sizeflag ATTRIBUTE_UNUSED;
+{
+  if (mod == 3 && reg == 1)
+    {
+      char *p = obuf + strlen (obuf);
+
+      /* Override "sidt".  */
+      if (rm)
+	{
+	  /* mwait %eax,%ecx  */
+	  strcpy (p - 4, "mwait   %eax,%ecx");
+	}
+      else
+	{
+	  /* monitor %eax,%ecx,%edx"  */
+	  strcpy (p - 4, "monitor %eax,%ecx,%edx");
+	}
+
+      codep++;
+    }
+  else
+    OP_E (0, sizeflag);
+}
+
+static void
 BadOp (void)
 {
   /* Throw away prefixes and 1st. opcode byte.  */
